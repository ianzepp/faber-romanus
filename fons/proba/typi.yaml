# Typi - Type check operator tests
# Covers: est type checks
# Note: Type aliases and ordo now in proba/codegen/statements/

# =============================================================================
# Type Checks (est)
# =============================================================================

# est with primitive uses typeof in TS, isinstance in Python
- name: 'est with primitive'
  source: 'fixum check = x est textus'
  ts:
      - 'typeof x === "string"'
  py:
      - 'isinstance(x, str)'
  rs:
      - 'matches!(x, textus)'
  fab:
      - 'fixum check = x est textus'

# non est negates the type check
- name: 'non est with primitive'
  source: 'fixum check = x non est numerus'
  ts:
      - 'typeof x !== "number"'
  py:
      - 'not isinstance(x, int)'
  rs:
      - '!matches!(x, numerus)'
  fab:
      - 'fixum check = x non est numerus'

# est with user type uses instanceof in both targets
- name: 'est with user type'
  source: 'fixum check = obj est Persona'
  ts:
      - 'instanceof Persona'
  py:
      - 'isinstance(obj, Persona)'
  rs:
      - 'matches!(obj, Persona)'
  fab:
      - 'fixum check = obj est Persona'
