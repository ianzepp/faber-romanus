# Incipit - Program entry point (sync)
# Generates main() or equivalent for each target

- name: basic incipit with body
  source: |
      incipit {
        scribe "Hello"
      }
  expect:
      ts:
          - 'console.log("Hello");'
      py:
          - 'if __name__ == "__main__":'
          - 'print("Hello")'
      rs:
          - 'fn main() {'
          - 'println!("{}"'
          - '"Hello"'
      cpp:
          - 'int main() {'
          - 'std::print'
          - '"Hello"'
          - 'return 0;'
      zig:
          - 'pub fn main() void {'
          - 'print("{s}\n", .{ "Hello" });'
      fab:
          - 'incipit {'
          - 'scribe "Hello"'

- name: incipit ergo cura arena
  source: |
      incipit ergo cura arena {
        scribe "Hello"
      }
  expect:
      ts:
          - 'console.log("Hello");'
      py:
          - 'if __name__ == "__main__":'
          - 'print("Hello")'
      rs:
          - 'fn main() {'
          - 'println!("{}"'
          - '"Hello"'
      cpp:
          - 'int main() {'
          - 'std::print'
          - '"Hello"'
          - 'return 0;'
      zig:
          - 'pub fn main() void {'
          - 'ArenaAllocator.init'
          - 'defer'
          - 'deinit()'
      fab:
          - 'incipit ergo cura arena {'
          - 'scribe "Hello"'

- name: incipit with multiple statements
  source: |
      incipit {
        fixum x = 42
        scribe x
      }
  expect:
      ts:
          - 'const x = 42;'
          - 'console.log(x);'
      py:
          - 'if __name__ == "__main__":'
          - 'x = 42'
          - 'print(x)'
      rs:
          - 'fn main() {'
          - 'let x = 42;'
          - 'println!'
      cpp:
          - 'int main() {'
          - 'const auto x = 42;'
      zig:
          - 'pub fn main() void {'
          - 'const x = 42;'
      fab:
          - 'incipit {'
          - 'fixum x = 42'
          - 'scribe x'
