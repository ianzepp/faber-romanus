# Break statements - rumpe
# Maps Faber break syntax to target-language break statements
#
# Syntax:
#   rumpe  -- exits the innermost loop

# =============================================================================
# Basic Break
# =============================================================================

# Simple break statement
- name: simple break
  source: 'rumpe'
  expect:
      ts:
          - 'break;'
      py:
          - 'break'
      rs:
          - 'break;'
      cpp:
          - 'break;'
      zig:
          - 'break;'
      fab:
          - 'rumpe'

# Break in loop context
- name: break in while loop
  source: |
      dum verum {
        si x > 10 {
          rumpe
        }
      }
  expect:
      ts:
          - 'while (true)'
          - 'if ((x > 10))'
          - 'break;'
      py:
          - 'while True:'
          - 'if (x > 10):'
          - 'break'
      rs:
          - 'while true'
          - 'if (x > 10)'
          - 'break;'
      cpp:
          - 'while (true)'
          - 'if ((x > 10))'
          - 'break;'
      zig:
          - 'while (true)'
          - 'if ((x > 10))'
          - 'break;'
      fab:
          - 'dum verum'
          - 'si x > 10'
          - 'rumpe'
