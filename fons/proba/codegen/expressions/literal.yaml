# Literal expressions - strings, numbers, hex, bigint, templates
# Maps Faber literals to target-language equivalents
#
# Note: boolean/null literals are in identifier.yaml (verum, falsum, nihil)

- name: string literal
  source: fixum s = "hello"
  expect:
      ts: 'const s = "hello";'
      py: 's = "hello"'
      rs:
          - 'let s = "hello";'
      cpp:
          - 'const auto s = "hello";'
      zig:
          - 'const s = "hello";'
      fab:
          - 'fixum s = "hello"'

- name: number literal
  source: fixum n = 42
  expect:
      ts: 'const n = 42;'
      py: 'n = 42'
      rs:
          - 'let n = 42;'
      cpp:
          - 'const auto n = 42;'
      zig:
          - 'const n = 42;'
      fab:
          - 'fixum n = 42'

- name: hex literal
  source: fixum x = 0xFF
  expect:
      ts: 'const x = 0xFF;'
      py: 'x = 0xFF'
      rs:
          - 'let x = 0xFF;'
      cpp:
          - 'const auto x = 255;'
      zig:
          - 'const x = 0xFF;'
      fab:
          - 'fixum x = 0xFF'

- name: lowercase hex literal
  source: fixum val = 0xabcdef
  expect:
      ts: 'const val = 0xabcdef;'
      py: 'val = 0xabcdef'
      rs:
          - 'let val = 0xabcdef;'
      cpp:
          - 'const auto val = 11259375;'
      zig:
          - 'const val = 0xabcdef;'
      fab:
          - 'fixum val = 0xabcdef'

- name: bigint literal
  source: fixum big = 0xFFFFFFFFFFn
  expect:
      ts: 'const big = 0xFFFFFFFFFFn;'
      py: 'big = 0xFFFFFFFFFF'
      rs:
          - 'let big = 0xFFFFFFFFFFni128;'
      cpp:
          - 'const auto big = 1099511627775;'
      zig:
          - 'const big = 0xFFFFFFFFFF;'
      fab:
          - 'fixum big = 0xFFFFFFFFFFn'

- name: template literal simple
  source: fixum msg = `hello world`
  expect:
      ts: 'const msg = `hello world`;'
      py: 'msg = f"hello world"'
      rs:
          - 'let msg = format!("hello world");'
      cpp:
          - 'const auto msg = std::string(hello world);'
      zig:
          - 'const msg = "hello world";'
      fab:
          - 'fixum msg = `hello world`'

- name: template with interpolation
  source: |
      fixum name = "Marcus"
      fixum greeting = `Hello, ${name}!`
  expect:
      ts:
          - 'const greeting = `Hello, ${name}!`'
      py:
          - 'greeting = f"Hello, {name}!"'
      rs:
          - 'let greeting = format!("Hello, ${name}!");'
      cpp:
          - 'const auto greeting = std::format(Hello, {}!, name);'
      zig:
          - 'const greeting = "Hello, ${name}!";'
      fab:
          - 'fixum name = "Marcus"'
          - 'fixum greeting = `Hello, ${name}!`'

- name: negative number literal
  source: fixum neg = -42
  expect:
      ts: 'const neg = -42;'
      py: 'neg = -42'
      rs:
          - 'let neg = -42;'
      cpp:
          - 'const auto neg = -42;'
      zig:
          - 'const neg = -42;'
      fab:
          - 'fixum neg = -42'

- name: floating point literal
  source: fixum pi = 3.14159
  expect:
      ts: 'const pi = 3.14159;'
      py: 'pi = 3.14159'
      rs:
          - 'let pi = 3.14159;'
      cpp:
          - 'const auto pi = 3.14159;'
      zig:
          - 'const pi = 3.14159;'
      fab:
          - 'fixum pi = 3.14159'

- name: scientific notation
  source: fixum big = 1.5e10
  expect:
      ts: 'const big = 1.5e10;'
      py: 'big = 1.5e10'
      rs:
          - 'let big = 1.5e10;'
      cpp:
          - 'const auto big = 1.5e10;'
      zig:
          - 'const big = 1.5e10;'
      fab:
          - 'fixum big = 1.5e10'

- name: binary literal
  source: fixum bits = 0b1010
  expect:
      ts: 'const bits = 0b1010;'
      py: 'bits = 0b1010'
      rs:
          - 'let bits = 0b1010;'
      cpp:
          - 'const auto bits = 10;'
      zig:
          - 'const bits = 0b1010;'
      fab:
          - 'fixum bits = 0b1010'

- name: octal literal
  source: fixum oct = 0o755
  expect:
      ts: 'const oct = 0o755;'
      py: 'oct = 0o755'
      rs:
          - 'let oct = 0o755;'
      cpp:
          - 'const auto oct = 493;'
      zig:
          - 'const oct = 0o755;'
      fab:
          - 'fixum oct = 0o755'

- name: string with escape sequences
  source: fixum escaped = "line1\nline2\ttabbed"
  expect:
      ts: 'const escaped = "line1\nline2\ttabbed";'
      py: 'escaped = "line1\nline2\ttabbed"'
      rs:
          - 'let escaped = "line1\nline2\ttabbed";'
      cpp:
          - 'const auto escaped = "line1\nline2\ttabbed";'
      zig:
          - 'const escaped = "line1\nline2\ttabbed";'
      fab:
          - 'fixum escaped = "line1\nline2\ttabbed"'

- name: empty string
  source: fixum empty = ""
  expect:
      ts: 'const empty = "";'
      py: 'empty = ""'
      rs:
          - 'let empty = "";'
      cpp:
          - 'const auto empty = "";'
      zig:
          - 'const empty = "";'
      fab:
          - 'fixum empty = ""'

- name: multiline template literal
  source: |
      fixum multi = `line one
      line two
      line three`
  expect:
      ts:
          - 'const multi = `line one'
          - 'line two'
          - 'line three`;'
      py:
          - 'multi = f"line one'
      rs:
          - 'let multi = format!("line one'
      cpp:
          - 'const auto multi = std::string(line one'
      zig:
          - 'const multi = "line one'
      fab:
          - 'fixum multi = `line one'
          - 'line two'
          - 'line three`'

- name: template with complex interpolation
  source: 'fixum msg = `result: ${compute(x + y)}`'
  expect:
      ts: 'const msg = `result: ${compute(x + y)}`;'
      py: 'msg = f"result: {compute(x + y)}"'
      rs:
          - 'let msg = format!("result: ${compute(x + y)}");'
      cpp:
          - 'const auto msg = std::format(result: {}, compute(x + y));'
      zig:
          - 'const msg = "result: ${compute(x + y)}";'
      fab:
          - 'fixum msg = `result: ${compute(x + y)}`'

- name: very large integer
  source: fixum huge = 9007199254740991
  expect:
      ts: 'const huge = 9007199254740991;'
      py: 'huge = 9007199254740991'
      rs:
          - 'let huge = 9007199254740991;'
      cpp:
          - 'const auto huge = 9007199254740991;'
      zig:
          - 'const huge = 9007199254740991;'
      fab:
          - 'fixum huge = 9007199254740991'

- name: unicode escape in string
  source: fixum unicode = "\u0048ello"
  expect:
      ts: 'const unicode = "\u0048ello";'
      py: 'unicode = "\u0048ello"'
      rs:
          - 'let unicode = "\u0048ello";'
      cpp:
          - 'const auto unicode = "\u0048ello";'
      zig:
          - 'const unicode = "\u0048ello";'
      fab:
          - 'fixum unicode = "\u0048ello"'

- name: single character string
  source: fixum char = "x"
  expect:
      ts: 'const char = "x";'
      py: 'char = "x"'
      rs:
          - 'let char = "x";'
      cpp:
          - 'const auto char = "x";'
      zig:
          - 'const char = "x";'
      fab:
          - 'fixum char = "x"'
