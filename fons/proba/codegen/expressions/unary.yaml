# Unary expressions - prefix and postfix operators
# Maps Faber unary operators to target-language equivalents

- name: logical not with non
  source: non verum
  expect:
      ts: '!true;'
      py: 'not True'
      rs:
          - '!true;'
      cpp:
          - '!true;'
      zig:
          - '!true'
      fab:
          - 'non verum'

- name: bitwise not
  source: '~5'
  expect:
      ts: '~5;'
      py: '~5'
      rs:
          - '~5;'
      cpp:
          - '~5;'
      zig:
          - '~5'
      fab:
          - '~5'

- name: negation literal
  source: '-42'
  expect:
      ts: '-42;'
      py: '-42'
      rs:
          - '-42;'
      cpp:
          - '-42;'
      zig:
          - '-42'
      fab:
          - '-42'

- name: nihil null check
  source: |
      si nihil x { scribe "null" }
  expect:
      ts:
          - '(x == null)'
      py:
          - '(x is None)'
      rs:
          - 'if x.is_none()'
      cpp:
          - 'if (nihilx)'
      zig:
          - '(x == null)'
      fab:
          - 'si nihil x'
          - 'scribe'

- name: nonnihil not null check
  source: |
      si nonnihil x { scribe "ok" }
  expect:
      ts:
          - '(x != null)'
      py:
          - '(x is not None)'
      rs:
          - 'if x.is_some()'
      cpp:
          - 'if (nonnihilx)'
      zig:
          - '(x != null)'
      fab:
          - 'si nonnihil x'
          - 'scribe'

- name: negativum less than zero
  source: |
      si negativum x { scribe "negative" }
  expect:
      ts:
          - '(x < 0)'
      py:
          - '(x < 0)'
      rs:
          - 'negativumx'
      cpp:
          - 'if ((x < 0))'
      zig:
          - '(x < 0)'
      fab:
          - 'si negativum x'
          - 'scribe'

- name: double negation logical
  source: non non verum
  expect:
      ts: '!!true;'
      py: 'not not True'
      fab:
          - 'non non verum'

- name: double bitwise not
  source: '~~x'
  expect:
      ts: '~~x;'
      py: '~~x'
      fab:
          - '~~x'

- name: negation of grouped expression
  source: '-(a + b)'
  expect:
      ts: '-(a + b);'
      py: '-(a + b)'
      fab:
          - '-(a + b)'

- name: non with grouped expression
  source: non (a et b)
  expect:
      ts: '!(a && b);'
      py: 'not (a and b)'
      fab:
          - 'non (a et b)'

- name: chained unary operators
  source: non ~x
  expect:
      ts: '!~x;'
      py: 'not ~x'
      fab:
          - 'non ~x'

- name: negation of call result
  source: '-getValue()'
  expect:
      ts: '-getValue();'
      py: '-getValue()'
      fab:
          - '-getValue()'

- name: non with member access
  source: non obj.flag
  expect:
      ts: '!obj.flag;'
      py: 'not obj.flag'
      fab:
          - 'non obj.flag'

- name: negation of member
  source: '-obj.value'
  expect:
      ts: '-obj.value;'
      py: '-obj.value'
      fab:
          - '-obj.value'
